<!DOCTYPE html>
<html style="height: 100%">
<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta name="robots" content="noindex, nofollow">
	<meta name="googlebot" content="noindex, nofollow">
	<script type="text/javascript" src="/vue.min.js"></script>
	<title>Build Radiator Editor</title>
	<script type='text/javascript'>//<![CDATA[
    window.onload=function(){

        var lhash = location.hash.replace(new RegExp("_", 'g'), " ");
        var hashParts = lhash.substr(1).split("/");

        var radiator_meta = new Vue({
            el: '#editor',
            data: {
                locn: {
                    code: hashParts.shift(),
                    title: hashParts.shift(),
                    replacements: hashParts
				}
            },
            methods: {
                all_done: function (event) {
                    location.href = ("/r#" + this.locn.code + "/" + this.locn.title + "/" + this.locn.replacements.join("/")).replace(new RegExp(" ", 'g'), "_");
                }
            }
        })
    }//]]> 
	</script>
</head>
<body style="height: 100%">
<div id="editor" style="width: 100%; height: 100%">

	<h2>Editor, code, title and steps</h2>

	<div>Radiator Code: {{ locn.code }}</div>
	<br/>
	<div>Page Title: <input v-model="locn.title" placeholder="title"></div>
	<br/>
	<div>Step codes and corresponding descriptions:</div>
	<ol>
		<li style="width: 100%" v-for="replNum in ((locn.replacements.length /2))">
			<span>
				<span>{{ locn.replacements[(replNum-1)*2]}}: <span>
				<input v-model="locn.replacements[((replNum-1)*2)+1]" placeholder="description">
			</span>
		</li>
	</ol>

	<button v-on:click="all_done">Done</button>

	<pre>
		<code>
			{{locn | pretty}}
		</code>
	</pre>

</div>
</body>
</html>
